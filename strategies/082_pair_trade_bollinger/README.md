# 配对交易布林策略 (Pair Trade Bollinger Strategy)

## 策略简介

配对交易布林策略是一种市场中性策略，通过交易两个相关资产之间的价差来获利。当价差偏离统计均值达到一定程度时建仓，当价差回归均值时平仓。

## 策略原理

### 核心思想
- 两个相关资产的价格价差应该围绕均值波动
- 当价差异常偏离时，存在均值回归机会
- 通过同时做多做空实现市场中性

### 策略步骤
1. **计算对冲比率**：使用滚动OLS回归计算
2. **计算价差**：spread = price1 - hedge_ratio × price2
3. **计算Z-Score**：价差的标准化得分
4. **交易信号**：基于Z-Score阈值

### 交易规则
**做多价差（买data0，卖data1）：**
- Z-Score < -entry_zscore（如-1.5）

**做空价差（卖data0，买data1）：**
- Z-Score > entry_zscore（如1.5）

**平仓条件：**
- 做多价差时：Z-Score > -exit_zscore（如-0.2）
- 做空价差时：Z-Score < exit_zscore（如0.2）

## 策略参数

| 参数 | 默认值 | 说明 |
|------|--------|------|
| lookback | 20 | 回望窗口（用于计算均值/标准差/对冲比率） |
| entry_zscore | 1.5 | 入场Z-Score阈值 |
| exit_zscore | 0.2 | 出场Z-Score阈值 |
| stake | 10 | 基础交易数量 |

## 适用场景

- 两个高度相关的资产（如同一行业股票）
- 价差具有均值回归特性
- 需要良好的流动性

## 风险提示

1. **相关性破裂**：资产间的相关性可能突然失效
2. **价差持续偏离**：价差可能长时间不回归，导致持仓亏损扩大
3. **对冲比率变化**：历史对冲比率可能无法准确预测未来
4. **双重风险**：同时持有两个头寸，双边都可能亏损
5. **交易成本**：配对交易涉及更多手续费

## 回测结果

基于Oracle（ORCL）和NVIDIA（NVDA）股票数据（2010-2014）回测：
- 总交易天数：1257
- 夏普比率：-1.490
- 年化收益率：-0.025%
- 最大回撤：14.49%
- 最终资金：99,877.16

## 参考文献

- Reference: https://github.com/mean_reversion_strategies
